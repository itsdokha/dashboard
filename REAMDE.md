ТЕХНИЧЕСКОЕ ЗАДАНИЕ (ТЗ)
Проект: персональный сайт-дашборд “о себе” в стиле kuchizu.com
Версия: 1.0

1) ЦЕЛЬ И КОНЦЕПЦИЯ
1.1. Цель
Сделать одностраничный персональный сайт-дашборд, визуально и по структуре максимально близкий к kuchizu.com:
- краткий “hero” профиль + соцссылки
- блоки GitHub (статистика / pinned / языки / активность)
- блок “Books (прочитано/читаю)” вместо “Recently Played (games)”
- блок “Movies & Series (просмотрено/смотрю)” вместо “Anime”
- блок “Servers” со статусами (как у референса)
- блок Spotify “Recently Played” (как у референса)

1.2. Ключевые принципы
- One-page: все блоки на одной странице, вертикальный скролл.
- “Dashboard feel”: карточки/виджеты, лаконичный UI.
- Данные в основном подгружаются динамически (через API/JSON), с кэшем, чтобы страница была быстрой.
- Визуальная чистота: минимум текста, максимум “сигналов” (числа, статусы, бейджи, списки).

1.3. Языки интерфейса
По умолчанию RU. (Опционально: переключение RU/EN — если будет нужно, заложить архитектурно.)

2) СТРУКТУРА СТРАНИЦЫ (КОМПОНОВКА)
2.1. Общий макет
- Контейнер по центру, максимальная ширина (например 1100–1200px), на мобильных — 100% ширины с отступами.
- Сетка: 1 колонка на мобилке, 2 колонки на планшете/десктопе для виджетов (где уместно).
- Блоки-виджеты одинакового стиля: фон/бордер/радиус, заголовок, контент, футер/ссылки.

2.2. Порядок блоков (сверху вниз)
A) Top Stats (GitHub counters)
B) Pinned (GitHub pinned repos)
C) Languages (GitHub languages)
D) Activity (GitHub activity feed)
E) Hero profile card (аватар, имя, роль, UTC, статус, соцссылки)
F) Books (замена Games/Recently Played)
G) Movies & Series (замена Anime)
H) Servers (мониторинг)
I) Spotify (recently played)

Примечание: допускается, что Hero может быть выше (над GitHub блоками), если так ближе к референсу после визуальной сверки.

3) UI/UX ТРЕБОВАНИЯ ПО БЛОКАМ

3.1. HERO / ПРОФИЛЬ
3.1.1. Состав
- Аватар (круглый/скруглённый)
- Имя (крупно)
- Роль/титул (например “DevOps Engineer” → у тебя свой)
- Таймзона (формат “· UTC+3 ·”)
- Статус (динамический текст + индикатор):
  - “Checking…” при загрузке
  - затем один из статусов (настраиваемо): Online / Away / Busy / Sleeping / Offline
- Соцкнопки: Telegram, GitHub, Email, X/Twitter, Discord (плюс любые твои)
- Футер: © YEAR

3.1.2. Поведение
- Клик по соцкнопкам открывает в новой вкладке.
- Email: mailto: ссылка, либо копирование адреса в буфер (опционально) с toast “Copied”.

3.2. TOP STATS (Repos / Stars / Followers / Following)
3.2.1. Состав
- 4 мини-карточки или строка метрик:
  - Repos
  - Stars (сумма звёзд по репозиториям или из профиля — выбрать один подход и зафиксировать)
  - Followers
  - Following
- Каждая метрика: число + подпись.

3.2.2. Данные
- GitHub API.
- Обновление: кэш 10–60 минут (настраиваемо).

3.3. PINNED (репозитории)
3.3.1. Состав карточки репозитория
- Название репо (ссылка на GitHub)
- Короткое описание (если есть)
- Язык (цветной бейдж)
- Stars / Forks (иконки + числа)
- Последнее обновление (relative time: “2 days ago” или RU аналог)

3.3.2. Количество
- 6 штук (как типичный pinned блок), либо 3–6 настраиваемо.

3.4. LANGUAGES
3.4.1. Варианты визуализации (выбрать 1)
A) Горизонтальные бары (язык + %)
B) Список с процентами (минималистично)
C) Мини-диаграмма + легенда

3.4.2. Данные
- Сбор по репозиториям пользователя:
  - или по топ-N репозиториям,
  - или по всем публичным (с лимитами GitHub).
- Нормализация в проценты.
- Кэш 24 часа.

3.5. ACTIVITY (GitHub)
3.5.1. Состав
- Лента событий (например “Pushed X commits to …”, “Opened PR…”, “Created repo…”)
- Элемент ленты:
  - иконка типа события
  - текст события
  - время (relative time)
  - ссылка (на коммит/репозиторий/PR)

3.5.2. Ограничения
- 10–20 последних событий.
- Кэш 10–60 минут.

3.6. BOOKS (ЗАМЕНА “RECENTLY PLAYED / GAMES”)
3.6.1. Назначение
Показывать список прочитанных книг (и опционально — “читаю сейчас”), в стиле виджета “Recently Played”.

3.6.2. Режимы
- Tabs (вкладки) внутри блока:
  - “Читаю” (Currently reading)
  - “Прочитано” (Finished)
  - (опционально) “Брошено” (Dropped)
Либо один список “Недавно прочитано” (последние N книг) — если хочется максимально как “Recently Played”.

3.6.3. Карточка книги (строка/листинг)
- Обложка (миниатюра)
- Название
- Автор(ы)
- Год (опционально)
- Статус:
  - Reading / Finished / Dropped
- Рейтинг (0–10 или 1–5) + визуально (звёзды/цифра)
- Дата завершения (для Finished) или прогресс (для Reading):
  - % или “стр. 120/420”
- Теги/жанры (опционально, 1–3 бейджа)
- Ссылка “Подробнее” (опционально, раскрывает модал)

3.6.4. Модал “Подробнее” (опционально)
- Большая обложка
- Полные метаданные
- Короткая заметка/отзыв (текст)
- Внешняя ссылка (Goodreads/StoryGraph/магазин/вики)

3.6.5. Фильтры (опционально, но желательно)
- По статусу (табами)
- По рейтингу (>=)
- По тегу
- По поиску (инпут по названию/автору)

3.6.6. Источник данных (заложить 2 варианта, выбирается при реализации)
Вариант A (самый простой и надёжный):
- Локальный JSON/YAML в репозитории сайта (обновляется вручную).
Вариант B (интеграция):
- Подключение к сервису учёта книг (Goodreads / StoryGraph / Notion / Google Sheets).
- Серверная синхронизация → кэшированный JSON.

3.6.7. Обновление
- Если локальный файл: обновление при деплое.
- Если интеграция: cron/планировщик (каждые 6–24 часа) + ручной “refresh” (для админа).

3.7. MOVIES & SERIES (ЗАМЕНА “ANIME”)
3.7.1. Назначение
Показывать просмотренные фильмы и сериалы + прогресс текущего просмотра.

3.7.2. Структура блока
- Tabs:
  - “Фильмы”
  - “Сериалы”
  - (опционально) “Смотрю”
  - (опционально) “Недавно просмотрено” (агрегировано)
- По умолчанию: “Недавно просмотрено” (последние N единиц), чтобы было похоже на “аниме-лист”.

3.7.3. Карточка элемента (фильм/сериал)
- Постер (мини)
- Название
- Год
- Тип бейдж: Movie / Series
- Рейтинг
- Дата просмотра (для фильма) или прогресс (для сериала):
  - “S2E5 / 10” или “12/24 эп.”
- Жанры (опционально)
- Внешняя ссылка (TMDB/IMDB/Кинопоиск/Trakt/Letterboxd — по выбранному источнику)

3.7.4. Источник данных (заложить 2 варианта)
Вариант A:
- Локальный JSON/YAML (ручное ведение).
Вариант B:
- Интеграция:
  - Trakt (сериалы/фильмы),
  - Letterboxd (фильмы),
  - TMDB как справочник постеров/жанров (по ID),
  - Кинопоиск — только если есть легальный API/доступ (иначе не используем).

3.7.5. Сопоставление постеров/метаданных
- Если источник не даёт постеров: использовать TMDB API по tmdb_id.
- Все внешние ключи (tmdb_id, imdb_id, trakt_id) хранить в данных.

3.8. SERVERS (статус серверов/процессов)
3.8.1. Назначение
Показывать живой статус инфраструктуры (как у референса):
- количество “up/total servers”
- количество “up/total processes”
- список серверов (или сервисов) со статусом

3.8.2. Состав
- Summary строка: “X/Y servers, A/B processes”
- Таблица/список:
  - Server/Service name
  - Status (UP/DOWN/DEGRADED)
  - Ping/Latency (опционально)
  - Uptime (опционально)
  - Last check time

3.8.3. Источник данных (безопасный)
- Собственный endpoint status API (server-side), который НЕ раскрывает приватные IP/секреты.
- Вариант реализации:
  - Tiny backend (serverless) читает метрики из Prometheus/Healthchecks/статус-страницы
  - или статический JSON, который обновляет CI (если данные публичные)

3.8.4. Частота обновления
- На клиенте: авто-обновление каждые 30–120 секунд (настраиваемо) + “обновить” кнопка.

3.9. SPOTIFY (Recently Played)
3.9.1. Состав
- Заголовок “Spotify / Recently Played”
- Список последних треков (10–20):
  - обложка альбома
  - трек
  - артист
  - время прослушивания (relative)
  - ссылка на трек в Spotify

3.9.2. Авторизация
- Только server-side (чтобы не светить refresh token).
- Сервер отдаёт уже “очищенные” данные (без токенов).

3.9.3. Кэш
- 1–5 минут (Spotify часто меняется).

4) ДИЗАЙН-СИСТЕМА (ВНЕШНИЙ ВИД)
4.1. Общий стиль
- Тёмная тема по умолчанию (как у большинства dev-дашбордов), опционально светлая.
- Карточки с тонкой рамкой или мягкой тенью.
- Моноширинные элементы (цифры/статусы) приветствуются.
- Аккуратные бейджи статусов (UP/DOWN, Reading/Finished).

4.2. Типографика
- 1 основной шрифт (system или подключаемый, но быстрый).
- Размеры:
  - H1 (имя): 28–36
  - Заголовки виджетов: 16–18
  - Текст: 13–15

4.3. Иконки
- Лёгкая икон-библиотека (SVG).
- Иконки: GitHub, Telegram, Mail, X, Discord, Star, Fork, Play, Book, Film/TV, Server.

4.4. Анимации/состояния
- Skeleton loading для списков (Pinned/Books/Movies/Spotify).
- Плавный fade-in контента при загрузке.
- Hover-эффекты на карточках и ссылках.

5) ДАННЫЕ И СХЕМЫ

5.1. Book (объект)
- id: string
- title: string
- original_title: string|null
- authors: string[]
- year: number|null
- cover_url: string|null
- status: "reading"|"finished"|"dropped"
- started_at: "YYYY-MM-DD"|null
- finished_at: "YYYY-MM-DD"|null
- progress:
  - type: "percent"|"pages"|null
  - current: number|null
  - total: number|null
- rating: number|null (формат фиксировать: либо 0–10, либо 1–5)
- tags: string[]
- note: string|null
- links:
  - primary: string|null
  - goodreads: string|null
  - storygraph: string|null

5.2. Movie/Series (объект)
- id: string
- type: "movie"|"series"
- title: string
- original_title: string|null
- year: number|null
- poster_url: string|null
- status: "watching"|"watched"|"dropped"|"on_hold"
- watched_at: "YYYY-MM-DD"|null (для movie)
- progress (для series):
  - season: number|null
  - episode: number|null
  - episodes_watched: number|null
  - episodes_total: number|null
- rating: number|null
- genres: string[]
- tags: string[]
- note: string|null
- external_ids:
  - tmdb: number|null
  - imdb: string|null
  - trakt: string|number|null
- links:
  - primary: string|null

5.3. Server status (объект)
- generated_at: ISO string
- servers_summary:
  - up: number
  - total: number
- processes_summary:
  - up: number
  - total: number
- items: [
  {
    name: string,
    kind: "server"|"service"|"process",
    status: "up"|"down"|"degraded",
    latency_ms: number|null,
    uptime_percent_30d: number|null,
    last_check_at: ISO string|null,
    message: string|null
  }
]

5.4. Spotify track (объект)
- played_at: ISO string
- track_name: string
- artists: string[]
- album_name: string|null
- album_image_url: string|null
- external_url: string

6) API/ИНТЕГРАЦИИ (РЕКОМЕНДУЕМАЯ АРХИТЕКТУРА)
6.1. Общая схема
Frontend (статический сайт) дергает:
- /api/github/stats
- /api/github/pinned
- /api/github/languages
- /api/github/activity
- /api/books
- /api/movies
- /api/status
- /api/spotify/recent

6.2. Где жить API
Вариант A (простота):
- Большая часть данных — статические JSON файлы (/data/*.json)
- Динамика только там, где нужны секреты (Spotify, возможно GitHub token, статус серверов).
Вариант B (полный):
- serverless функции (Cloudflare Workers / Vercel / Netlify Functions).

6.3. GitHub
- Использовать GitHub REST API или GraphQL.
- Токен хранить server-side, не в клиенте.
- Кэшировать ответы (KV/Memory) чтобы не упираться в rate limit.

6.4. Spotify
- OAuth + refresh token хранить server-side.
- Отдавать только публичные поля (без user_id, без токенов).

6.5. Books/Movies источники
- Если локально: отдавать JSON напрямую.
- Если через сервисы: синхронизировать в кэшированный JSON.

7) АДМИН/ОБНОВЛЕНИЕ КОНТЕНТА
7.1. Минимальный режим (без админки)
- Ведение книг и фильмов в файлах:
  - /data/books.json
  - /data/movies.json
- CI деплой при пуше в репозиторий.

7.2. Опциональная админка (если нужно)
- Простая защищённая страница (/admin) с логином (пароль/one-time link) для:
  - добавления книги/фильма
  - редактирования статуса/рейтинга
  - триггера “sync now”
ВНИМАНИЕ: админка повышает сложность и требования к безопасности.

8) НЕФУНКЦИОНАЛЬНЫЕ ТРЕБОВАНИЯ
8.1. Производительность
- LCP < 2.5s на 4G (ориентир)
- Lazy-load изображений (обложки/постеры)
- Кэширование API
- Минификация CSS/JS

8.2. Адаптивность
- Mobile 360px
- Tablet 768px
- Desktop 1280px+
- Сетка перестраивается без горизонтального скролла.

8.3. Доступность
- alt у изображений
- контраст текста
- фокус-стейты для клавиатуры
- семантические заголовки

8.4. Безопасность
- Никаких токенов/секретов в клиентском JS.
- CORS ограничить при необходимости.
- Rate limit на API.
- Серверный endpoint статусов не раскрывает приватные детали инфраструктуры.

9) SEO/МЕТА
- title, description
- OpenGraph (для красивого превью)
- favicon + apple-touch-icon
- robots.txt, sitemap.xml (если нужно)
- canonical URL

10) АНАЛИТИКА (ОПЦИОНАЛЬНО)
- Простая privacy-friendly аналитика (Plausible/Umami) либо без аналитики.

11) ТЕСТИРОВАНИЕ
- Unit (для парсеров/адаптеров данных)
- Интеграционные тесты API (200 OK + схема)
- UI smoke: корректная отрисовка всех блоков, skeleton states, ошибки.

12) ОБРАБОТКА ОШИБОК/EDGE CASES
- Если GitHub API недоступен:
  - показать “Unavailable” + кнопка Retry
- Если Spotify недоступен:
  - скрыть блок или показать пустое состояние
- Если нет книг/фильмов:
  - показать “Пока пусто” + подсказку как заполнить (если уместно)

13) КРИТЕРИИ ПРИЁМКИ (CHECKLIST)
- Страница визуально и по структуре похожа на kuchizu.com (виджеты/дашборд).
- Работают блоки:
  - GitHub stats / pinned / languages / activity
  - Books (вместо games) с корректными данными, статусами и обложками
  - Movies & Series (вместо anime) с корректными данными и постерами
  - Servers summary + список статусов
  - Spotify Recently Played
- Нет утечек секретов в исходниках (проверка сборки).
- На мобилке всё читаемо, без ломания сетки.
- Быстрая загрузка, изображения lazy.

14) ВЫХОДНЫЕ МАТЕРИАЛЫ ОТ РАЗРАБОТКИ
- Репозиторий с исходниками
- Инструкция README:
  - как задать переменные окружения (GitHub/Spotify)
  - как обновлять books/movies JSON
  - как деплоить
- Схемы данных (JSON schema) для books/movies/status/spotify
- Настроенный деплой (Cloudflare/Vercel/Netlify/GitHub Pages — по выбору)
